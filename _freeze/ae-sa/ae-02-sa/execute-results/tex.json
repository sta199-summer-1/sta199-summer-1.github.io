{
  "hash": "80d98b58f2e23e219e7cddd5919633c6",
  "result": {
    "markdown": "---\ntitle: \"Geom AE\"\nsubtitle: \"Suggested Answers\"\nauthor: \"[INSERT NAME]\"\nformat: pdf\neditor: visual\n---\n\n\nFor this ae, we'll use the **tidyverse** and **palmerpenguins** packages.\n\nThese data were collected from 2007 - 2009 by Dr. Kristen Gorman with the Palmer Station Long Term Ecological Research Program, part of the US Long Term Ecological Research Network. The data were imported directly from the Environmental Data Initiative (EDI) Data Portal, and are available for use by CC0 license (\"No Rights Reserved\") in accordance with the Palmer Station Data Policy.\n\n## Packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(palmerpenguins)\n#The data set name is penguins\n```\n:::\n\n\nWhat are the `#|` above?\n\n*Code chunk arguments*\n\nWhich ones will we use during the semester? State and define them below.\n\nlabel message warnings echo eval\n\nWhy label? Makes navigation and referencing code easier.\n\nBut sometimes, they can cause issues..... render your document and read the error. Why won't the document render?\n\n## Data\n\nThe dataset we will visualize is called `penguins`. Let's `glimpse()` at it. Also let's practice using the useful function of the day `names()` on our data set.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(penguins)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel~\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse~\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, ~\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, ~\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186~\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, ~\n$ sex               <fct> male, female, female, NA, female, male, female, male~\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007~\n```\n:::\n\n```{.r .cell-code}\nnames(penguins)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"species\"           \"island\"            \"bill_length_mm\"   \n[4] \"bill_depth_mm\"     \"flipper_length_mm\" \"body_mass_g\"      \n[7] \"sex\"               \"year\"             \n```\n:::\n:::\n\n\n# Visualizing penguin weights - Demo\n\n## Useful links:\n\nhttps://ggplot2.tidyverse.org/reference/\n\nDon't forget about your ggplot cheetsheet as well!\n\n## Single variable\n\n::: callout-note\nAnalyzing the a single variable is called **univariate** analysis.\n:::\n\nCreate visualizations of the distribution of `weight`s of penguins.\n\nBefore making a visualization of penguins' weight, let's brainstorm what types of would and would not be appropriate. Indicate Yes or No next to each. If no, suggest when it would be appropriate to make such a plot.\n\n-   Scatterplot? N\n-   Histogram? Y\n-   Boxplot? Y\n-   Bar plot? N\n-   Segmented Bar plot? N\n\n------------------------------------------------------------------------\n\n# Live Coding Questions\n\n1.  Make a histogram by filling in the `...` with the appropriate arguments. Set an appropriate binwidth. Once you have the correct code, delete `#| eval: false` or change false to true\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |>\n  ggplot( \n       aes(x = body_mass_g)) + #type variable name here\n       geom_histogram() #type geom here\n```\n:::\n\n\nDescribe the shape of this distribution below..\n\n***Evidence of being right skewed***\n\n2.  Now, make a boxplot of `weight`s of penguins.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |>\n  ggplot(\n    aes(x = body_mass_g)\n  ) + \n  geom_boxplot()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 2 rows containing non-finite values (`stat_boxplot()`).\n```\n:::\n\n::: {.cell-output-display}\n![](ae-02-sa_files/figure-pdf/boxplot-weight-1.pdf){fig-pos='H'}\n:::\n:::\n\n\nWhat does this visualization tell you about penguins' weight?\n\n*Median close to 4000g*\n\n3.  Add a theme to your boxplot!\n\nhttps://ggplot2.tidyverse.org/reference/ggtheme.html\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |>\n  ggplot(\n    aes(x = body_mass_g)) + \n    geom_boxplot() + \n    theme_bw() +\n    labs(x = \"Body Mass in grams\",\n         title = \"This is my title\",\n         subtitle = \"Be more creative\",\n         caption = \"penguins data\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 2 rows containing non-finite values (`stat_boxplot()`).\n```\n:::\n\n::: {.cell-output-display}\n![](ae-02-sa_files/figure-pdf/theme-1.pdf){fig-pos='H'}\n:::\n:::\n\n\nWhy can / should we use themes?\n\n*Make plots more professional + add color*\n\nNow, let's take control of our labels. Using the ggplot cheet sheet, reference the `Labels and Legends` column. Add some labels to your plot above.\n\n## Two variables\n\n::: callout-note\nAnalyzing the relationship between two variables is called **bivariate** analysis.\n:::\n\nWhat if we want to make side by side boxplots to look at body mass across species? Do so below...\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |>\n  ggplot(\n    aes(x = species, y = body_mass_g)\n  ) + \n  geom_boxplot()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 2 rows containing non-finite values (`stat_boxplot()`).\n```\n:::\n\n::: {.cell-output-display}\n![](ae-02-sa_files/figure-pdf/side-by-side-1.pdf){fig-pos='H'}\n:::\n:::\n\n\nWe can do more in the aesthetics then specify x and y variables. Note: `aes`thetic is a visual property of one of the objects in your plot. Aesthetic options are:\n\n-   shape\n-   color\n-   size\n-   fill\n\nBelow, we are going to practice with each of these options.\n\n4.  Make a histogram of penguins' weight where the bars are filled in by species type. Set an appropriate binwidth and alpha value. At the same time, comment each line of code to articulate what it's doing.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |>\n  ggplot( \n       aes(x = body_mass_g, fill = species )) +\n       geom_histogram(binwidth = 200, alpha = 0.3)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 2 rows containing non-finite values (`stat_bin()`).\n```\n:::\n\n::: {.cell-output-display}\n![](ae-02-sa_files/figure-pdf/histogram-weight-species-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n-   What happens when we change fill to color?\n\n-   What happens when we change fill to shape?\n\n-   What happens when you change the binwidth?\n\n-   What happens when you change alpha?\n\n5.  What if we don't want the overlap? We can use `facet_wrap` to split the histograms apart! This function takes the name of the variable you want to split by, and how many cols/rows you want your plots to show up in. Run `?facet_wrap` in your console and read the first two arguments of the function. Then, use facet_wrap to split the histograms apart!\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |>\n  ggplot( \n       aes(x = body_mass_g, fill = species )) +\n       geom_histogram(binwidth = 200, alpha = .7) +\n       facet_wrap(~species, ncol = 2)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 2 rows containing non-finite values (`stat_bin()`).\n```\n:::\n\n::: {.cell-output-display}\n![](ae-02-sa_files/figure-pdf/facet-1.pdf){fig-pos='H'}\n:::\n:::\n\n\nIn 1-2 sentences, describe what you see in the plot you created.\n\n*Can comment on center and skew of each distribution*\n\n6.  We need to think critically about color when thinking about creating visualizations for a larger audience: https://ggplot2.tidyverse.org/reference/scale_viridis.html\n\nWe will do more with colors throughout the semester. Think about this is as our first introduction. We can create a colorblind friendly pallet using `scale_colour_viridis_d() or scale_colour_viridis_c()` depending on the type of variable we are working with. Below, comment the code below to describe what it's doing:\n\n\n::: {.cell}\n\n```{.r .cell-code}\np <- penguins |> # this is the data set | we are saving this plot as object p\n  ggplot( #this sets up my plot\n    aes(x = body_mass_g, y = bill_length_mm , color = species)\n  ) + \n    geom_point() \n\n\np\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 2 rows containing missing values (`geom_point()`).\n```\n:::\n\n::: {.cell-output-display}\n![](ae-02-sa_files/figure-pdf/color-demo-1.pdf){fig-pos='H'}\n:::\n\n```{.r .cell-code}\np + scale_colour_viridis_d()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 2 rows containing missing values (`geom_point()`).\n```\n:::\n\n::: {.cell-output-display}\n![](ae-02-sa_files/figure-pdf/color-demo-2.pdf){fig-pos='H'}\n:::\n:::\n\n\nChange the above code to say `scale_colour_viridis_c()`. Does the code run? Why or why not?\n\n*Because species is categorical*\n\nLet's get practice using `scale_colour_viridis_c()`. Below, create a scatterplot between bill_length and bill_depth. Color the dots of the scatterplot by the penguins flipper length. Use `scale_colour_viridis_c()` to create a colorblind friendly pallet.\n\nHint: if you create points, give it a color, not a fill. In general fill changes the color within shapes, and color changes the outline. However, default points are not considered shapes.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |> \n  ggplot(\n    aes(x = bill_length_mm, y = bill_depth_mm, color = flipper_length_mm )\n  ) + \n  geom_point() + \n  scale_colour_viridis_c()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 2 rows containing missing values (`geom_point()`).\n```\n:::\n\n::: {.cell-output-display}\n![](ae-02-sa_files/figure-pdf/unnamed-chunk-10-1.pdf){fig-pos='H'}\n:::\n:::\n\n\nThis is a good time to practice with `size`. Remove `scale_colour_viridis_c()` and change `color =` to `size =`. What changed?\n\n**We now see the size of the points change by flipper length instead of being colored by flipper length**\n",
    "supporting": [
      "ae-02-sa_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}