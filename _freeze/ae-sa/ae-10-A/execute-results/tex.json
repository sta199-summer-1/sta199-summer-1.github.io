{
  "hash": "9446794105a7783f6715c6e83ecb8f4d",
  "result": {
    "markdown": "---\ntitle: \"AE-10 Probability II: Suggested Answers\"\nformat: pdf\neditor: visual\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n-- Attaching packages --------------------------------------- tidyverse 1.3.2 --\nv ggplot2 3.4.0     v purrr   0.3.5\nv tibble  3.1.8     v dplyr   1.0.9\nv tidyr   1.2.1     v stringr 1.4.1\nv readr   2.1.3     v forcats 0.5.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'ggplot2' was built under R version 4.2.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'tidyr' was built under R version 4.2.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'readr' was built under R version 4.2.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'purrr' was built under R version 4.2.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n-- Conflicts ------------------------------------------ tidyverse_conflicts() --\nx dplyr::filter() masks stats::filter()\nx dplyr::lag()    masks stats::lag()\n```\n:::\n\n```{.r .cell-code}\nlibrary(palmerpenguins)\nlibrary(knitr)\n```\n:::\n\n\n# Return of the Penguins\n\nThey are back! Please run the following code below to re-familiarize ourselves with these data. Data were collected and made available by Dr. Kristen Gorman and the Palmer Station, Antarctica LTER, a member of the Long Term Ecological Research Network.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(penguins)\n\nglimpse(penguins)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel~\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse~\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, ~\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, ~\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186~\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, ~\n$ sex               <fct> male, female, female, NA, female, male, female, male~\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007~\n```\n:::\n:::\n\n\nRemind yourself of your contingency table here:\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |>\n  count(species, island) |>\n  pivot_wider(names_from = species,\n              values_from = n,\n              values_fill = 0) |>\n  kable()\n```\n\n::: {.cell-output-display}\n|island    | Adelie| Chinstrap| Gentoo|\n|:---------|------:|---------:|------:|\n|Biscoe    |     44|         0|    124|\n|Dream     |     56|        68|      0|\n|Torgersen |     52|         0|      0|\n:::\n:::\n\n\n## Sample Space\n\nHow large is the sample space of any penguin? Can we check this in R?\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |>\n  count(island, species) |> \n  nrow()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 5\n```\n:::\n:::\n\n\n## And / Or probabilities\n\nFirst, define your events below:\n\nA - penguin is on Biscoe island\n\nB - penguin is of the Adelie species\n\nThese are also called **joint** probabilities. Please answer the following questions below.\n\n-- What is the probability that a random penguin is on the Biscoe island **and** is of the Adelie species?\n\n-- What is the probability that a random penguin is on the Biscoe island **or** is of the Adelie species?\n\n**Steps**\n\nPerform the calculations in your console by typing the values out.\n\nNext, confirm your calculations in R by writing code.\n\nHint: When calculating `and` or `or` probabilities... I suggest following these steps:\n\n-   Create an indicator variable to match the events of your probability calculation\n\n-   Take the mean of that variable\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |>\n  mutate(ind = (species == \"Adelie\" & island == \"Biscoe\")) |>\n  summarize(mean(ind))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 x 1\n  `mean(ind)`\n        <dbl>\n1       0.128\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |>\n  mutate(ind = (species == \"Adelie\" | island == \"Biscoe\")) |>\n  summarize(mean(ind))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 x 1\n  `mean(ind)`\n        <dbl>\n1       0.802\n```\n:::\n:::\n\n\n## Conditional Probabilities\n\n**Conditional probability**: The probability an event occurs given the other has occurred\n\n-- What is the probability that a random penguin is on the Biscoe island **given** the penguin of the Adelie species?\n\nHint: Create an appropriate table with `count` and `filter`. Next, create a new column that has the appropriate probability calculations. calculate the correct denominator using `sum`. `colSums` will produce an error within the function mutate. A more detailed explanation of this can be found in Slack.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |>\n  count(species, island) |>\n  filter(species == \"Adelie\") |>\n  mutate(prob = n / sum(n))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3 x 4\n  species island        n  prob\n  <fct>   <fct>     <int> <dbl>\n1 Adelie  Biscoe       44 0.289\n2 Adelie  Dream        56 0.368\n3 Adelie  Torgersen    52 0.342\n```\n:::\n:::\n\n\n## Independence?\n\nAre living on the Biscoe island and being an Adelie species independent events? Justify your answer?\n\nNo: The probability of being on the Biscoe island, given the penguin is of the Adlie speices is not equal to just the probability of being on the Biscoe island. \n\n## Computer Store\n\nTo assess our understanding of probability, we will practice filling in a table based on a couple given values.\n\nIn a computer store, 30% of the computers in stock are laptops and 70% are desktops. Five percent of the laptops are on sale, while 10% of the desktops are on sale. Assume that the table total is 1000.\n\nA - A computer is on sale\n\nB - Is a desktop\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata <- tibble( \n  Type = c(\"Desktop\", \"Desktop\" , \"Laptop\" , \"Laptop\"),\n  Sale = c(\"Sale\", \"No-Sale\" , \"Sale\", \"No-Sale\"),\n  values = c(70,630,15,285) #change code here\n  )\n\ndata |>\n  pivot_wider( \n    names_from = Type,\n    values_from = values)\n```\n:::\n\n\n# Extension Question (Only if time)\n\nBike sharing systems are new generation of traditional bike rentals where whole process from membership, rental and return back has become automatic. You are tasked to investigate the relationship between the temperature outside and the number of bikes rented in the Washington DC area between the years 2011 and 2022. You will be investigating data for the months June, July, September, and November.\n\n## Simpson's Paradox\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbike <- read_csv(\"data/bike.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 242 Columns: 7\n-- Column specification --------------------------------------------------------\nDelimiter: \",\"\ndbl (7): season, yr, mnth, holiday, weekday, temp, cnt\n\ni Use `spec()` to retrieve the full column specification for this data.\ni Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n:::\n\n\n-- Create a scatter plot that investigates the relationship between the number of bikes rented and the temperature outside. Include a straight line of best fit to help discuss the discovered relationship. Summarize your findings.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbike |> \n  ggplot(\n    aes(y = cnt , x = temp)\n  ) + \n  geom_point() + \n  geom_smooth(method = \"lm\" , se = FALSE)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](ae-10-A_files/figure-pdf/plot-1-1.pdf){fig-pos='H'}\n:::\n:::\n\n\nThis scatter plot would suggest a positive relationship between count and temperature. \n\n-- Another researcher suggests to look at the relationship between bikes rented and temperature by each of the four months of interest. Recreate your plot in part a, and color the points by month. Include a straight line for each of the four months to help discuss each month's relationship between bikes rented and temperature. In 3-4 sentences, summarize your findings.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbike |> \n  mutate(mnth = as.factor(mnth)) |> \n  ggplot(\n    aes(y = cnt, x = temp, color = mnth)\n  ) + \n  geom_point() +\n  geom_smooth(method = \"lm\" , se = FALSE)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](ae-10-A_files/figure-pdf/plot-2-1.pdf){fig-pos='H'}\n:::\n:::\n\n\nNow that our data are grouped by month, we see four varying negative trends between count and temperature by month. This is vastly different of a story vs the ungrouped data. \n\nFor more information on Simpson's Paradox, please watch the following video on Simpson's Paradox [here](https://www.youtube.com/watch?v=ebEkn-BiW5k).\n",
    "supporting": [
      "ae-10-A_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}