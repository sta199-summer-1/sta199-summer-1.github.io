{
  "hash": "38ca3e4296c972dc2e95278c77bc1787",
  "result": {
    "markdown": "---\ntitle: \"AE-09 Introduction to Probability: Suggested Answers\"\ncategories: \n  - Application exercise\neditor: visual\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──\n✔ ggplot2 3.4.0     ✔ purrr   0.3.5\n✔ tibble  3.1.8     ✔ dplyr   1.0.9\n✔ tidyr   1.2.1     ✔ stringr 1.4.1\n✔ readr   2.1.3     ✔ forcats 0.5.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'ggplot2' was built under R version 4.2.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'tidyr' was built under R version 4.2.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'readr' was built under R version 4.2.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'purrr' was built under R version 4.2.2\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n```\n:::\n\n```{.r .cell-code}\nlibrary(palmerpenguins)\nlibrary(knitr)\n```\n:::\n\n\nIn today's activity, we will be working with sleep data. Specifically, we will look at the relationship between Myopia, and sleeping conditions. Nearsightedness (myopia) is a common vision condition in which near objects appear clear, but objects farther away look blurry.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsleep_data <- tibble( \n  Slept_With = c(\"Darkness\" , \"Nightlight\", \"Full Light\", \"Total\"),\n  No_Myopia = c(155,153,34,342),\n  Myopia = c(15,72,36,123),\n  High_Myopia = c(2,7,5,14),\n  Total = c(172,232,75,479))\n```\n:::\n\n\n## Question 1\n\n-- Give two examples of an event from the data set `sleep_data`.\n\nA = Sleep with darkness\n\nB = Have myopia\n\n## Question 2\n\n-- What is the sample space for how an infant slept?\n\n{Darkness, Nightlight, Full Light}\n\n## Question 3\n\nLet's define our event as follows: A = child slept with a nightlight as an infant (\"Nightlight\")\n\n-- What is the probability that an infant slept with a nightlight?\n\n232/479\n\n-- What is the probability of $A^c$?\n\n(172+75)/479\n\n# Return of the Penguins\n\nThey are back! Please run the following code below to re-familiarize ourselves with these data. Data were collected and made available by Dr. Kristen Gorman and the Palmer Station, Antarctica LTER, a member of the Long Term Ecological Research Network.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(penguins)\n\nglimpse(penguins)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               <fct> male, female, female, NA, female, male, female, male…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…\n```\n:::\n:::\n\n\n## Question 4\n\nNow let's make at table looking at the relationship between species and island. Below, comment on what this code is doing.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |>\n  count(species, island)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 5 × 3\n  species   island        n\n  <fct>     <fct>     <int>\n1 Adelie    Biscoe       44\n2 Adelie    Dream        56\n3 Adelie    Torgersen    52\n4 Chinstrap Dream        68\n5 Gentoo    Biscoe      124\n```\n:::\n:::\n\n\nGives us species by island information\n\nTo make the contingency table, we will use the function in dplry called pivot_wider(). It will take the data frame produced by count() that is current in a \"long\" format and reshape it to be in a \"wide\" format. We will also use the kable() function in the knitr package to neatly format our new table.\n\nUse `pivot_wider` to create a contingency table. Hint: Use `?pivot_wider` to find information on the argument `values_fill`. When creating the contingency table, include 0s in there are any missing values.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |>\n  count(species, island) |>\n  pivot_wider(\n    names_from = species,\n    values_from = n,\n    values_fill = 0\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3 × 4\n  island    Adelie Chinstrap Gentoo\n  <fct>      <int>     <int>  <int>\n1 Biscoe        44         0    124\n2 Dream         56        68      0\n3 Torgersen     52         0      0\n```\n:::\n:::\n\n\n## Question 5\n\nFor each of the following exercises:\n\nCalculate the probability using the contingency table above.\n\nThen write code to check your answer using the penguins data frame and dplyr functions.\n\nHint: Think about creating a new `prob` column that contains the calculation.\n\n-- What is the probability that a random penguin is from the Biscoe island?\n\n**Together**\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |>\n  count(island) |>\n  mutate(prob = n / nrow(penguins)) |>\n  filter(island == \"Biscoe\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 3\n  island     n  prob\n  <fct>  <int> <dbl>\n1 Biscoe   168 0.488\n```\n:::\n:::\n\n\n**Together**\n\n-- What is the probability that a random penguin is not from the Biscoe island?\n\nLet's introduce `pull()`. The function pull selects a column in a data frame and transforms it into a vector. This is useful to use it in combination with pipe operators and dplyr's verbs.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |>\n  count(island) |>\n  filter(island != \"Biscoe\") |>\n  pull(n) |>\n  sum() / nrow(penguins)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.5116279\n```\n:::\n:::\n\n\nThese probabilities can be calculated in more than one way. Let's do it again.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |>\n  count(island) |>\n  filter(island != \"Biscoe\") |>\n  select(n) |>\n  colSums() / nrow(penguins)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n        n \n0.5116279 \n```\n:::\n:::\n\n\n-- What is the probability that a random penguin is of the Chinstrap species?\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |>\n  count(species) |>\n  mutate(prob = n / nrow(penguins)) |>\n  filter(species == \"Chinstrap\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 3\n  species       n  prob\n  <fct>     <int> <dbl>\n1 Chinstrap    68 0.198\n```\n:::\n:::\n\n\n-- What is the probability that a random penguin is not of the Chinstrap species?\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |>\n  count(species) |>\n  filter(species != \"Chinstrap\") |>\n  pull(n) |>\n  sum() / nrow(penguins)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.8023256\n```\n:::\n:::\n\n\n## Extension Questions\n\n-- What is the probability that a random penguin is on the Biscoe island **and** is of the Adelie species?\n\n-- What is the probability that a random penguin is on the Biscoe island **or** is of the Adelie species?\n\nHow are these questions different from above?\n\nThese questions consider more than one event\n\nFirst, define your events below:\n\nA - penguin is on Biscoe island\n\nB - penguin is of the Adelie species\n\nWrite out these questions in **proper notation**.\n\nP(A and B) \n\nP(A or B)\n\nPerform the calculations in your console by typing the values out.\n\nNext, confirm your calculations in R by writing code.\n\nRemind yourself of your contingency table here:\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |>\n  count(species, island) |>\n  pivot_wider(names_from = species,\n              values_from = n,\n              values_fill = 0) |>\n  kable()\n```\n\n::: {.cell-output-display}\n|island    | Adelie| Chinstrap| Gentoo|\n|:---------|------:|---------:|------:|\n|Biscoe    |     44|         0|    124|\n|Dream     |     56|        68|      0|\n|Torgersen |     52|         0|      0|\n:::\n:::\n\n\n## Stopped Here \n\n## More definitions\n\nPopulation: the entire group you want to learn about. Often, it's useful to think the population is \"truth\"\n\nSample: Your sample of the population from which you draw inference.\n",
    "supporting": [
      "ae-09-A_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}