{
  "hash": "af15881cb4e5352272ce2170b5bf5abc",
  "result": {
    "markdown": "---\ntitle: \"Suggested Answers:Regression with a Categorical Single Predictor + MLR\"\nformat: html\neditor: visual\n---\n\n\n## Packages\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidymodels)\nlibrary(palmerpenguins)\n```\n:::\n\n\nWe will continue to study penguins as we become more familiar with SLR and MLR procedures.\n\n## Categorical Explanatory\n\nA different researcher wants to look at body weight of penguins based on the island they were recorded on. What's different between this question and the question from ae-11? Hint: Think about the variable type.\n\nCategorical Explanatory Variable\n\n-   Make a dot plot with species on the x-axis to investigate this relationship below. Additionally, calculate the mean body mass by island below.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |>\n  ggplot(\n    aes(y = body_mass_g, x = island)\n  ) + \n  geom_point() \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 2 rows containing missing values (`geom_point()`).\n```\n:::\n\n::: {.cell-output-display}\n![](ae-12-A_files/figure-html/dot-plot-1.png){width=672}\n:::\n\n```{.r .cell-code}\npenguins |>\n  group_by(island) |>\n  summarize(mean_mass = mean(body_mass_g , na.rm = T))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3 × 2\n  island    mean_mass\n  <fct>         <dbl>\n1 Biscoe        4716.\n2 Dream         3713.\n3 Torgersen     3706.\n```\n:::\n:::\n\n\n-   Now, fit the linear regression model and display the results. Write the estimated model output below.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel2 <- linear_reg() |>\n  set_engine(\"lm\") |>\n  fit(body_mass_g ~ island , data = penguins) \n```\n:::\n\n\n$\\widehat{body_mass_g} = 4716 - 1003*Dream - 1010*Torgersen$\n\n{1 if Dream; 0 if not} {1 if Torgersen; 0 if not}\n\n## Interpretation\n\n-   What is the estimated mean body weight of a penguin on Dream island?\n\nThe estimated mean body weight of a penguin on Dream island is (4716 - 1003) grams.\n\nHow do we interpret this?\n\nWe estimate penguins on the dream island to weigh, on average 1003 grams less than those on the Bisoce island.\n\n-   What is the estimated body weight of a penguin on Biscoe island? Where is it....?\n\n**Check the intercept!**\n\n## Multiple Linear Regression\n\n### Additive model\n\nIn the last class, we modeled body mass by flipper length. Today, in a separate model, we modeled body mass by island. Could it be possible that the estimated body mass of a penguin changes by both their flipper length AND by the island they are on?\n\nIn multiple linear regression, we will discuss two different types of models. Additive models and interaction models. What's the difference?\n\nAdditive models force the slopes to be the same across Z\n\nInteraction models allow the slopes to be different\n\nNow, fit an *additive* model to assess the relationship between our response variable body mass, and our explanatory variables flipper length and island. Produce the summary output. Write out the estimate regression equation below.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel1 <- linear_reg() |>\n  set_engine(\"lm\") |>\n  fit(body_mass_g ~ flipper_length_mm , data = penguins) \n\n\nlinear_reg() |>\n  set_engine(\"lm\") |>\n  fit(body_mass_g ~ flipper_length_mm , data = penguins) |>\n  tidy()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 5\n  term              estimate std.error statistic   p.value\n  <chr>                <dbl>     <dbl>     <dbl>     <dbl>\n1 (Intercept)        -5781.     306.       -18.9 5.59e- 55\n2 flipper_length_mm     49.7      1.52      32.7 4.37e-107\n```\n:::\n:::\n\n\n$\\widehat{body_mass_g} = -4625 + 44.5*flipper_length_mm - 262*Dream - 185*Torgersen$\n\n-- Interpret the slope coefficient for flipper length in the context of the problem\n\n\"Holding all else constant\"\n\nHolding island constant **(holding all other variables constant)**, for a one mm increase in flipper length, we **estimate** a 44.5 gram increase in **mean** body mass.\n\n-- Interpret the slope coefficient for Dream island in the context of the problem\n\nHolding flipper length constant, we estimate the mean body mass of penguins on the dream island to be 262 grams less than those on the Bisoce island.\n\n-- Predict the body mass of a penguin with a flipper length of 200 on the Dream island\n\nHint: We can do this in R. Fill in the following code below:\n\nNote: Name your model and do not pipe it into `tidy()` if you want to use the `predict` function\n\n\n::: {.cell}\n\n```{.r .cell-code}\npredict(model1, data.frame(flipper_length_mm = 200, island = \"Dream\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 1\n  .pred\n  <dbl>\n1 4156.\n```\n:::\n:::\n\n\n## R-squared\n\n-- What is R-squared?\n\nR-squared is the percent variability in the response that is explained by our model. (Can use when models have same number of variables for model selection)\n\nHow can we calculate this in R?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglance(model1)$r.squared\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.7589925\n```\n:::\n:::\n",
    "supporting": [
      "ae-12-A_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}