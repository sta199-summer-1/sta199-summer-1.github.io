{
  "hash": "8fd21d58c9fa1d69fc44ab0b2c379793",
  "result": {
    "markdown": "---\ntitle: \"ae-10-data-ethics-suggested-answers\"\nformat: html\neditor: visual\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──\n✔ ggplot2 3.3.6     ✔ purrr   0.3.4\n✔ tibble  3.1.8     ✔ dplyr   1.0.9\n✔ tidyr   1.2.0     ✔ stringr 1.4.1\n✔ readr   2.1.2     ✔ forcats 0.5.2\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n```\n:::\n\n```{.r .cell-code}\nlibrary(lubridate)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'lubridate'\n\nThe following objects are masked from 'package:base':\n\n    date, intersect, setdiff, union\n```\n:::\n\n```{.r .cell-code}\nlibrary(scales)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'scales'\n\nThe following object is masked from 'package:purrr':\n\n    discard\n\nThe following object is masked from 'package:readr':\n\n    col_factor\n```\n:::\n:::\n\n\nSee https://scales.r-lib.org/reference/index.html for inspiration and help with scales.\n\n\n::: {.cell}\n\n:::\n\n\nIn September 2019, YouGov survey asked 1,639 GB adults the following question:\n\n> In hindsight, do you think Britain was right/wrong to vote to leave EU?\n>\n> -   Right to leave\\\n> -   Wrong to leave\\\n> -   Don't know\n\nThe data from the survey is in `data/brexit.csv`.\n\nIn this application exercise we will explore how different axes can tell different stories of data.\n\n### Exercise 1 - Free scales\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbrexit <- read_csv(\"data/brexit.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 1639 Columns: 2\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (2): opinion, region\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n:::\n\n\nCreate a segmented bar plot facet by region to explore counts of votes to the question *Was Britain right/wrong to leave EU*.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(brexit, aes(y = opinion, fill = opinion)) +\n  geom_bar() +\n    facet_wrap(~region,\n    nrow = 1, labeller = label_wrap_gen(width = 12)\n  ) +\n  guides(fill = \"none\") +\n  labs(\n    title = \"Was Britain right/wrong to vote to leave EU?\",\n    subtitle = \"YouGov Survey Results, 2-3 September 2019\",\n    caption = \"Source: bit.ly/2lCJZVg\",\n    x = NULL, y = NULL\n  ) +\n  scale_fill_manual(values = c(\n    \"Wrong\" = \"#ef8a62\",\n    \"Right\" = \"#67a9cf\",\n    \"Don't know\" = \"gray\"\n  )) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](ae-10-data-ethics-A_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\nComment on the plot. What do you notice? What story is it telling?\n\nThis plot is showing the difference in how each region voted on the question above. Because of the scale of the graph, it appears that London has minimal differences in how they voted between yes and no, while other differences are more extreme. \n\nNext, use `scales = \"free_x\"` as an argument to the `facet_wrap()` function. How does the visualisation change? How is the story this visualisation telling different than the story the original plot tells?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(brexit, aes(y = opinion, fill = opinion)) +\n  geom_bar() +\n    facet_wrap(~region,\n    nrow = 1, labeller = label_wrap_gen(width = 12),\n    scales = \"free_x\" # add scales = \"free_x\" here\n  ) +\n  guides(fill = \"none\") +\n  labs(\n    title = \"Was Britain right/wrong to vote to leave EU?\",\n    subtitle = \"YouGov Survey Results, 2-3 September 2019\",\n    caption = \"Source: bit.ly/2lCJZVg\",\n    x = NULL, y = NULL\n  ) +\n  scale_fill_manual(values = c(\n    \"Wrong\" = \"#ef8a62\",\n    \"Right\" = \"#67a9cf\",\n    \"Don't know\" = \"gray\"\n  )) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](ae-10-data-ethics-A_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\nWhat changed? Is this plot more or less appropriate?\n\nThe x-axis is different. It is easier to see the within region differences.\n\n### Exercise 2 - Comparing proportions across facets\n\nFirst, calculate the proportion of wrong, right, and don't know answers in each category and then plot these proportions (rather than the counts) and then improve axis labeling. How is the story this visualization telling different than the story the original plot tells? **Hint:** You'll need the **scales** package to improve axis labeling.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Take notes on code using comments \n\nbrexit |>\n  group_by(region, opinion) |>\n  summarize(n = n()) |>\n  mutate(freq = n / sum(n)) |>\n  ggplot() + \n  geom_bar(aes(y = opinion, x = freq, fill = opinion), stat = \"identity\") +\n  facet_wrap(~ region, nrow = 1) +\n  scale_x_continuous(limits = c(0,1)) +\n  theme_bw() +\n  labs(\n    title = \"Was Britain right/wrong to vote to leave EU?\",\n    subtitle = \"YouGov Survey Results, 2-3 September 2019\",\n    caption = \"Source: bit.ly/2lCJZVg\",\n    y = NULL, x = \"Proportion\"\n  )  + \n    scale_fill_manual(values = c(\n    \"Wrong\" = \"#ef8a62\",\n    \"Right\" = \"#67a9cf\",\n    \"Don't know\" = \"gray\"\n  ))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`summarise()` has grouped output by 'region'. You can override using the\n`.groups` argument.\n```\n:::\n\n::: {.cell-output-display}\n![](ae-10-data-ethics-A_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n## Optional\n\n#### Exercise 3 - adding visual uncertanity\n\nThe Effect of Vitamin C on Tooth Growth in Guinea Pigs: The response is the length of odontoblasts (cells responsible for tooth growth) in 60 guinea pigs. Each animal received one of three dose levels of vitamin C (0.5, 1, and 2 mg/day) by one of two delivery methods, orange juice or ascorbic acid (a form of vitamin C and coded as VC).\n\n**Demo** Make a line plot to show the length of tooth growth by the dose of vitamin C they received. Include error bars that range 1 SD away from the estimate in both directions.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nToothGrowth <- read_csv(\"data/ToothGrowth.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 6 Columns: 4\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): supp\ndbl (3): dose, len, sd\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nToothGrowth |>\nggplot(aes(x=dose, y=len, group=supp, color=supp)) + \n  geom_line() +\n  geom_point()+\n  geom_errorbar(aes(ymin= len - sd, ymax= len + sd), width=.2, #create sd bars here\n                 position=position_dodge(0.05))\n```\n\n::: {.cell-output-display}\n![](ae-10-data-ethics-A_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "ae-10-data-ethics-A_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}