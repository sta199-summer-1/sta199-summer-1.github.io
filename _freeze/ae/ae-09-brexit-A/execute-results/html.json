{
  "hash": "ee64ec3c4b0cb3b93fd5a09e4c3f8d25",
  "result": {
    "markdown": "---\ntitle: \"AE 09: Data Ethics\"\ncategories: \n  - Application exercise\n  - Answers\neditor: visual\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(scales)\n```\n:::\n\n\nIn September 2019, YouGov survey asked 1,639 GB adults the following question:\n\n> In hindsight, do you think Britain was right/wrong to vote to leave EU?\n>\n> -   Right to leave\\\n> -   Wrong to leave\\\n> -   Don't know\n\nThe data from the survey is in `data/brexit.csv`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbrexit <- read_csv(\"data/brexit.csv\")\n```\n:::\n\n\nIn this application exercise we tell different stories with the same data.\n\n### Exercise 1 - Free scales\n\nCreate a segmented bar plot facet by region to explore counts of votes to the question *Was Britain right/wrong to leave EU*.\n\nNext, use `scales = \"free_x\"` as an argument to the `facet_wrap()` function. How does the visualisation change? How is the story this visualisation telling different than the story the original plot tells?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(brexit, aes(y = opinion, fill = opinion)) +\n  geom_bar() +\n    facet_wrap(~region,\n    nrow = 1, labeller = label_wrap_gen(width = 12),\n    scales = \"free_x\"\n  ) +\n  guides(fill = \"none\") +\n  labs(\n    title = \"Was Britain right/wrong to vote to leave EU?\",\n    subtitle = \"YouGov Survey Results, 2-3 September 2019\",\n    caption = \"Source: bit.ly/2lCJZVg\",\n    x = NULL, y = NULL\n  ) +\n  scale_fill_manual(values = c(\n    \"Wrong\" = \"#ef8a62\",\n    \"Right\" = \"#67a9cf\",\n    \"Don't know\" = \"gray\"\n  )) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](ae-09-brexit-A_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n**Answer Here**\n\nThe visualization changes, as the x-axis changes based on the sample size within each facet. It visually is harder to see what is going on, and it appears to suggest, for example, London's \"Wrong\" votes are similar to North, despite having drastically different sample sizes.\n\n### Exercise 2 - Comparing proportions across facets\n\nFirst, calculate the proportion of wrong, right, and don't know answers in each category and then plot these proportions (rather than the counts) and then improve axis labeling. How is the story this visualisation telling different than the story the original plot tells? **Hint:** You'll need the **scales** package to improve axis labeling.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbrexit |>\n  group_by(region, opinion) |>\n  summarize(n = n()) |>\n  mutate(freq = n / sum(n)) |>\n  ggplot() + \n  geom_bar(aes(y = opinion, x = freq, fill = opinion), stat = \"identity\") +\n  facet_wrap(~ region, nrow = 1) +\n  scale_x_continuous(limits = c(0,1)) +\n  theme_bw() +\n  labs(\n    title = \"Was Britain right/wrong to vote to leave EU?\",\n    subtitle = \"YouGov Survey Results, 2-3 September 2019\",\n    caption = \"Source: bit.ly/2lCJZVg\",\n    y = NULL, x = \"Proportion\"\n  ) + \n    scale_fill_manual(values = c(\n    \"Wrong\" = \"#ef8a62\",\n    \"Right\" = \"#67a9cf\",\n    \"Don't know\" = \"gray\"\n  ))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`summarise()` has grouped output by 'region'. You can override using the\n`.groups` argument.\n```\n:::\n\n::: {.cell-output-display}\n![](ae-09-brexit-A_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n**Answer Here**\n\nThe x-axis is now proportions.\n\n### Exercise 3 - Comparing proportions across bars\n\nRecreate the same visualisation from the previous exercise, this time dodging the bars for opinion proportions for each region, rather than faceting by region and then improve the legend. How is the story this visualisation telling different than the story the previous plot tells?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbrexit |>\n  group_by(region, opinion) |>\n  summarize(n = n()) |>\n  mutate(freq = n / sum(n)) |>\n  ggplot() + \n  geom_bar(\n    aes(y = opinion, x = freq, fill = region), \n    position = \"dodge\", stat = \"identity\"\n  ) +\n  scale_x_continuous(limits = c(0,1)) +\n  theme_bw() +\n  labs(\n    title = \"Was Britain right/wrong to vote to leave EU?\",\n    subtitle = \"YouGov Survey Results, 2-3 September 2019\",\n    caption = \"Source: bit.ly/2lCJZVg\",\n    y = NULL, x = \"Proportion\", \n    fill = \"Region\"\n  ) \n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`summarise()` has grouped output by 'region'. You can override using the\n`.groups` argument.\n```\n:::\n\n::: {.cell-output-display}\n![](ae-09-brexit-A_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n**Answer Here**\n\nThis visualization tells the story of within opinion vs within region like the others.\n",
    "supporting": [
      "ae-09-brexit-A_files\\figure-html"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}