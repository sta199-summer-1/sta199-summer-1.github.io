{
  "hash": "d537bddc17e79bb189efb96c482b2bd6",
  "result": {
    "markdown": "---\ntitle: \"Modeling Introduction\"\nformat: html\neditor: visual\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfish <- read_csv(\"data/Fish.csv\")\n```\n:::\n\n\nFor this activity, we will be working with a Fish data set. This data set is a record of 2 common different fish species in fish market sales. Documentation of the variables can be seen below:\n\n| **variable** | **description**         |\n|--------------|-------------------------|\n| `Species`    | species name of fish    |\n| `Weight`     | weight of fish in grams |\n| `Length1`    | vertical length in cm   |\n| `Length2`    | diagonal length in cm   |\n| `Length3`    | cross length in cm      |\n| `Height`     | height in cm            |\n| `Width`      | diagonal width in cm    |\n\nWe are going to investigate the relationship between a fish's height and weight. Below, create an appropriate plot to investigate this relationship. Add appropriate labels to the plot.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfish |> \n  ggplot(\n    aes(x = Height, y = Weight)\n  ) + \n  geom_point() +\n  labs( \n    title = \"Fish Height by Weight\")\n```\n\n::: {.cell-output-display}\n![](ae-14-starter-A_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n-   *(2-min)* If you were to draw a a straight line to best represent the relationship between a fish's height and width, how would you do it?\n\nStart from the bottom and go up Identify the first and last point and draw a line through most the others\n\n-   Now, let R draw the line for us. Please refer to the documentation here: https://ggplot2.tidyverse.org/reference/geom_smooth.html. Specifically, refer to the `method` section.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfish |> \n  ggplot(\n    aes(x = Height, y = Weight)\n  ) + \n  geom_point() +\n  geom_smooth(method = \"lm\") +\n  labs( \n    title = \"Fish Height by Weight\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using formula 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](ae-14-starter-A_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n-   What types of questions can this plot help answer?\n\nIs there a relationship between fish height and weight?\n\nPredict\n\n-   *(2-min)* We can use this line to make predictions. Predict what you think the width of a fish would be with a height of 10 cm. 15cm. 20cm. Which prediction is considered extrapolation?\n\nAt 10cm, we estimate a weight of 375 grams At 15cm, we estimate a weight of 600 grams At 20cm, we estimate a weight of 975 grams\n\n-   Brainstorm. How was this line created?\n\nR probably created a line that best fit the data....but how and what does that mean?\n\n-   What is a residual?\n\nThe difference between what we observe and what our model predicts\n\n-   **Demo:**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Modeling Code! More on this Monday!\n\nfit <- lm(Width ~ Height, data = fish)\nfish$predicted <- predict(fit)\nfish$residuals <- residuals(fit)\n\n\nfish |> \nggplot(aes(x = Height, y = Width)) + \n  geom_smooth(method = \"lm\", se = FALSE, color = \"lightgrey\") +  \n  geom_segment(aes(xend = Height, yend = predicted), alpha = .2) +  \n  geom_point() + \n  geom_point(aes(y = predicted), shape = 1) + \n  theme_bw()  \n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using formula 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](ae-14-starter-A_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\nNow we know how the line is fit.... so what's the line?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfish |>\n  ggplot(\n    aes(x = Height, y = Weight)\n  ) + \n  geom_point() + \n  geom_smooth(method = \"lm\", fullrange = T) +\n  labs(\n    title = \"Fish by Height and Width\"\n  ) + \n  xlim(0,20)\n\nsummary(fit)\n```\n:::\n\n\n-   *(2-min)* Using the line, predict what you think the width of a fish would be with a height of 10 cm. 15cm. 20cm.\n\n$\\hat{weight}$ = 1.96 + 0.23*10* $\\hat{weight}$ = 1.96 + 0.2315 $\\hat{weight}$ = 1.96 + 0.23\\*20\n\n-   What is the notation of our line?\n\n\\$\\$\n\n\\hat{weight} = 1.96 +0.23\\*height\n\n\\$\\$\n\n## Correlation\n\nWe can also assess correlation between two quantitative variables.\n\nWhat is correlation? What is correlation bounded by?\n\n*Strength and direction of a linear relationship*\n\nr = \\[-1, 1\\]\n\nWhat is the correlation between Height and Weight?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfish |>\n  select(Height, Weight) |>\n  cor()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n          Height    Weight\nHeight 1.0000000 0.9537966\nWeight 0.9537966 1.0000000\n```\n:::\n:::\n\n\nAre you good at guessing? Give it a try!\n\nhttps://www.rossmanchance.com/applets/2021/guesscorrelation/GuessCorrelation.html\n\n## Modeling a third variable\n\nDoes the relationship change by species? Plot two separate straight lines by Bream and Roach species of fish below.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfish |> \n  ggplot(\n    aes(x = Height, y = Weight, color = Species)\n  ) + \n  geom_point() +\n  geom_smooth(method = \"lm\") +\n  labs( \n    title = \"Fish Height by Weight\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using formula 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](ae-14-starter-A_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n-   We can fit more models than just a straight line. Change the following code below to read `method = loess`. What is different from the plot created before?\n\nThe line isn't straight!\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfish |>\n  ggplot(\n    aes(x = Height, y = Width)\n  ) + \n  geom_point() + \n  geom_smooth(method = \"loess\") +\n  labs(\n    title = \"Fish by Height and Width\"\n  )\n```\n:::\n",
    "supporting": [
      "ae-14-starter-A_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}